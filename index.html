<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Prepare, Manipulate and Check Data to Comply with Darwin Core Standard • corella</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Prepare, Manipulate and Check Data to Comply with Darwin Core Standard">
<meta name="description" content="Helps users standardise data to the Darwin Core Standard, a global data standard to store, document, and share biodiversity data like species occurrence records. The package provides tools to manipulate data to conform with, and check validity against, the Darwin Core Standard. Using corella allows users to verify that their data can be used to build Darwin Core Archives using the galaxias package.">
<meta property="og:description" content="Helps users standardise data to the Darwin Core Standard, a global data standard to store, document, and share biodiversity data like species occurrence records. The package provides tools to manipulate data to conform with, and check validity against, the Darwin Core Standard. Using corella allows users to verify that their data can be used to build Darwin Core Archives using the galaxias package.">
<meta property="og:image" content="https://corella.ala.org.au/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">corella</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/quick_start_guide.html">Quick start guide</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/checking-your-dataset.html">Checking your dataset</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/AtlasOfLivingAustralia/corella/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="corella-">corella 
<a class="anchor" aria-label="anchor" href="#corella-"></a>
</h1>
</div>
<!-- badges: start -->

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><code>corella</code> is an R package that helps users standardize their data using the <a href="https://dwc.tdwg.org" class="external-link"><em>Darwin Core</em></a> data standard, used for biodiversity data like species occurrences. <code>corella</code> provides tools to prepare, manipulate and validate data against the standard’s criteria. Once standardized, data can be subsequently shared as a <a href="https://ipt.gbif.org/manual/en/ipt/latest/dwca-guide#what-is-darwin-core-archive-dwc-a" class="external-link"><em>Darwin Core Archive</em></a> and published to open data infrastructures like the <a href="https://www.ala.org.au" class="external-link">Atlas of Living Australia</a> and <a href="https://www.gbif.org/" class="external-link">GBIF</a>.</p>
<p><code>corella</code> was built, and is maintained, by the <a href="https://labs.ala.org.au" class="external-link">Science &amp; Decision Support Team</a> at the <a href="https://www.ala.org.au" class="external-link">Atlas of Living Australia</a> (ALA). It is named for the Little Corella (<a href="https://bie.ala.org.au/species/https%3A//biodiversity.org.au/afd/taxa/34b31e86-7ade-4cba-960f-82a6ae586206" class="external-link"><em>Cacatua sanguinea</em></a>). The logo was designed by <a href="https://daxkellie.com/" class="external-link">Dax Kellie</a>.</p>
<p>If you have any comments, questions or suggestions, please <a href="mailto:support@ala.org.au">contact us</a>.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"corella"</span><span class="op">)</span></span></code></pre></div>
<p>Install the development version of <code>corella</code> from GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"AtlasOfLivingAustralia/corella"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Here we have a small sample of example data containing observations of cockatoos. Using corella we can convert our data to use Darwin Core Standard.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://corella.ala.org.au">corella</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># A simple example of species occurrence data</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Callocephalon fimbriatum"</span>, <span class="st">"Eolophus roseicapilla"</span><span class="op">)</span>,</span>
<span>  latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">35.310</span>, <span class="st">"-35.273"</span><span class="op">)</span>, <span class="co"># deliberate error for demonstration purposes</span></span>
<span>  longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">149.125</span>, <span class="fl">149.133</span><span class="op">)</span>,</span>
<span>  eventDate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"14-01-2023"</span>, <span class="st">"15-01-2023"</span><span class="op">)</span>,</span>
<span>  status <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"present"</span>, <span class="st">"present"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 5</span></span>
<span><span class="co">#&gt;   species                  latitude longitude eventDate  status </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                    &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;  </span></span>
<span><span class="co">#&gt; 1 Callocephalon fimbriatum -35.31        149. 14-01-2023 present</span></span>
<span><span class="co">#&gt; 2 Eolophus roseicapilla    -35.273       149. 15-01-2023 present</span></span></code></pre></div>
<p>One of the most important aspects of Darwin Core Standard is using standard column names (Darwin Core <em>terms</em>). We can update column names in our data to match Darwin Core terms with <code>set_</code> functions.</p>
<p>Each <code>set_</code> function name corresponds to the type of data, and argument names correspond to the available Darwin Core terms to use as column names. <code>set_</code> functions support data wrangling operations &amp; <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code> functionality, meaning columns can be changed or fixed in your pipe. <code>set_</code> functions will indicate if anything needs fixing because they also automatically run checks on each column data to make sure each column is in the correct format.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages</a></span><span class="op">(</span> <span class="co"># for readability</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/set_coordinates.html">set_coordinates</a></span><span class="op">(</span></span>
<span>    decimalLatitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">latitude</span><span class="op">)</span>, <span class="co"># fix latitude</span></span>
<span>    decimalLongitude <span class="op">=</span> <span class="va">longitude</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/set_scientific_name.html">set_scientific_name</a></span><span class="op">(</span></span>
<span>    scientificName <span class="op">=</span> <span class="va">species</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/set_datetime.html">set_datetime</a></span><span class="op">(</span></span>
<span>    eventDate <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">dmy</a></span><span class="op">(</span><span class="va">eventDate</span><span class="op">)</span> <span class="co"># specify date format</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/set_occurrences.html">set_occurrences</a></span><span class="op">(</span>occurrenceStatus <span class="op">=</span> <span class="va">status</span><span class="op">)</span></span>
<span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 5</span></span>
<span><span class="co">#&gt;   eventDate  decimalLatitude decimalLongitude scientificName    occurrenceStatus</span></span>
<span><span class="co">#&gt;   &lt;date&gt;               &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;             &lt;chr&gt;           </span></span>
<span><span class="co">#&gt; 1 2023-01-14           -35.3             149. Callocephalon fi… present         </span></span>
<span><span class="co">#&gt; 2 2023-01-15           -35.3             149. Eolophus roseica… present</span></span></code></pre></div>
<p>Not sure where to start? Use <code><a href="reference/suggest_workflow.html">suggest_workflow()</a></code> to know what steps you need to make to make your data Darwin Core compliant.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="reference/suggest_workflow.html">suggest_workflow</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Matching Darwin Core terms ──────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Matched 1 of 5 column names to DwC terms:</span></span>
<span><span class="co">#&gt; ✔ Matched: eventDate</span></span>
<span><span class="co">#&gt; ✖ Unmatched: latitude, longitude, species, status</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Minimum required Darwin Core terms ──────────────────────────────────────────</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Type                      Matched term(s)  Missing term(s)                                                                </span></span>
<span><span class="co">#&gt; ✔ Date/Time                 eventDate        -                                                                               </span></span>
<span><span class="co">#&gt; ✖ Identifier (at least one) -                occurrenceID, catalogNumber, recordNumber                                       </span></span>
<span><span class="co">#&gt; ✖ Record type               -                basisOfRecord                                                                   </span></span>
<span><span class="co">#&gt; ✖ Scientific name           -                scientificName                                                                  </span></span>
<span><span class="co">#&gt; ✖ Location                  -                decimalLatitude, decimalLongitude, geodeticDatum, coordinateUncertaintyInMeters</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Suggested workflow ──────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; To make your data Darwin Core compliant, use the following workflow:</span></span>
<span><span class="co">#&gt; df |&gt;</span></span>
<span><span class="co">#&gt;   set_occurrences() |&gt;</span></span>
<span><span class="co">#&gt;   set_coordinates() |&gt;</span></span>
<span><span class="co">#&gt;   set_scientific_name()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Additional functions</span></span>
<span><span class="co">#&gt; ℹ See all `set_` functions at</span></span>
<span><span class="co">#&gt;   http://corella.ala.org.au/reference/index.html#add-rename-or-edit-columns-to-match-darwin-core-terms</span></span></code></pre></div>
<p>Or, if your data is nearly ready and you want to run checks over all columns that match Darwin Core terms, run <code><a href="reference/check_dataset.html">check_dataset()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/check_dataset.html">check_dataset</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ℹ Testing data</span></span>
<span><span class="co">#&gt; ✔ | E P | Column</span></span>
<span><span class="co">#&gt; ⠙ | 0 eventDate</span></span>
<span><span class="co">#&gt; ⠹ | 1 ✖ | eventDate ✔ | 1 ✖ | eventDate  [111ms]</span></span>
<span><span class="co">#&gt; ══ Results ═════════════════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [ Errors: 1 | Pass: 0 ]</span></span>
<span><span class="co">#&gt; ℹ Checking Darwin Core compliance</span></span>
<span><span class="co">#&gt; ✖ Data does not meet minimum Darwin Core column requirements</span></span>
<span><span class="co">#&gt; ℹ Use `suggest_workflow()` to see more information.</span></span>
<span><span class="co">#&gt; ── Error in term ───────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; eventDate must be a Date vector, not a character.</span></span>
<span><span class="co">#&gt; ℹ Specify date format with lubridate functions e.g. `ymd()`, `mdy()`, or</span></span>
<span><span class="co">#&gt; `dmy()`.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="citing-corella">Citing corella<a class="anchor" aria-label="anchor" href="#citing-corella"></a>
</h2>
<p>To generate a citation for the package version you are using, you can run:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"corella"</span><span class="op">)</span></span></code></pre></div>
<p>The current recommended citation is:</p>
<blockquote>
<p>Kellie D, Balasubramaniam S &amp; Westgate MJ (2024) corella: Tools to standardize biodiversity data to Darwin Core. R Package version 0.1.0.</p>
</blockquote>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/AtlasOfLivingAustralia/corella/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/AtlasOfLivingAustralia/corella/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing corella</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Dax Kellie <br><small class="roles"> Author, maintainer </small>  </li>
<li>Shandiya Balasubramanium <br><small class="roles"> Author </small>  </li>
<li>Martin Westgate <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=corella" class="external-link"><img src="https://www.r-pkg.org/badges/version/corella" alt="CRAN status"></a></li>
<li><a href="https://app.codecov.io/gh/AtlasOfLivingAustralia/corella" class="external-link"><img src="https://codecov.io/gh/AtlasOfLivingAustralia/corella/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dax Kellie, Shandiya Balasubramanium, Martin Westgate.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
