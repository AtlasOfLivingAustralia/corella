<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create unique identifier columns — composite_id • corella</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Create unique identifier columns — composite_id"><meta name="description" content="A unique identifier is a pattern of words, letters and/or numbers that is
unique to a single record within a dataset.
Unique identifiers are useful because they identify individual observations,
and make it possible to change, amend or delete observations over time. They
also prevent accidental deletion when when more than one record contains the
same information(and would otherwise be considered a duplicate).
The identifier functions in corella make it easier to
generate columns with unique identifiers in a dataset. These functions can
be used within set_events(), set_occurrences(), or (equivalently)
dplyr::mutate()."><meta property="og:description" content="A unique identifier is a pattern of words, letters and/or numbers that is
unique to a single record within a dataset.
Unique identifiers are useful because they identify individual observations,
and make it possible to change, amend or delete observations over time. They
also prevent accidental deletion when when more than one record contains the
same information(and would otherwise be considered a duplicate).
The identifier functions in corella make it easier to
generate columns with unique identifiers in a dataset. These functions can
be used within set_events(), set_occurrences(), or (equivalently)
dplyr::mutate()."><meta property="og:image" content="https://corella.ala.org.au/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">corella</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/quick_start_guide.html">Quick start guide</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/checking-your-dataset.html">Checking your dataset</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/AtlasOfLivingAustralia/corella/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create unique identifier columns</h1>
      <small class="dont-index">Source: <a href="https://github.com/AtlasOfLivingAustralia/corella/blob/main/R/identifier_functions.R" class="external-link"><code>R/identifier_functions.R</code></a></small>
      <div class="d-none name"><code>identifier_functions.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A unique identifier is a pattern of words, letters and/or numbers that is
unique to a single record within a dataset.
Unique identifiers are useful because they identify individual observations,
and make it possible to change, amend or delete observations over time. They
also prevent accidental deletion when when more than one record contains the
same information(and would otherwise be considered a duplicate).</p>
<p>The identifier functions in corella make it easier to
generate columns with unique identifiers in a dataset. These functions can
be used within <code><a href="set_events.html">set_events()</a></code>, <code><a href="set_occurrences.html">set_occurrences()</a></code>, or (equivalently)
<code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">composite_id</span><span class="op">(</span><span class="va">...</span>, sep <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sequential_id</span><span class="op">(</span><span class="va">width</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">random_id</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Zero or more variable names from the tibble being
mutated (unquoted), and/or zero or more <code>_id</code> functions, separated by
commas.</p></dd>


<dt id="arg-sep">sep<a class="anchor" aria-label="anchor" href="#arg-sep"></a></dt>
<dd><p>Character used to separate field values. Defaults to <code>"-"</code></p></dd>


<dt id="arg-width">width<a class="anchor" aria-label="anchor" href="#arg-width"></a></dt>
<dd><p>(Integer) how many characters should the resulting string be?
Defaults to one plus the order of magnitude of the largest number.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An amended <code>tibble</code> containing a column with identifiers in the
requested format.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Generally speaking, it is better to use existing
information from a dataset to generate identifiers. For this reason we
recommend using <code>composite_id()</code> to aggregate existing fields, if no
such composite is already present within the dataset. Composite IDs are
more meaningful and stable; they are easier to check and harder to overwrite.</p>
<p>It is possible to call
<code>sequential_id()</code> or <code>random_id()</code> within
<code>composite_id()</code> to combine existing and new columns.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  eventDate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2020</span><span class="op">:</span><span class="fl">2024</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span>, <span class="st">"-01-01"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  basisOfRecord <span class="op">=</span> <span class="st">"humanObservation"</span>,</span></span>
<span class="r-in"><span>  site <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A01"</span>, <span class="st">"A02"</span>, <span class="st">"A03"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add composite ID using a random ID, site name and eventDate</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="set_occurrences.html">set_occurrences</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    occurrenceID <span class="op">=</span> <span class="fu">composite_id</span><span class="op">(</span><span class="fu">random_id</span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                <span class="va">site</span>,</span></span>
<span class="r-in"><span>                                <span class="va">eventDate</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ⠙ Checking 2 columns: <span style="color: #00BB00;">basisOfRecord</span> and <span style="color: #00BB00;">occurrenceID</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ⠹ Checking 2 columns: <span style="color: #00BB00;">basisOfRecord</span> and <span style="color: #00BB00;">occurrenceID</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking 2 columns: <span style="color: #00BB00;">basisOfRecord</span> and <span style="color: #00BB00;">occurrenceID</span> <span style="color: #B2B2B2;">[641ms]</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 15 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    eventDate  basisOfRecord    site  occurrenceID                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 2020-01-01 humanObservation A01   7ee7888c-0853-11f0-a2bb-7c1e526f45b2-A01-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 2021-01-01 humanObservation A01   7ee788a0-0853-11f0-a2bb-7c1e526f45b2-A01-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 2022-01-01 humanObservation A01   7ee788a1-0853-11f0-a2bb-7c1e526f45b2-A01-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 2023-01-01 humanObservation A01   7ee788a2-0853-11f0-a2bb-7c1e526f45b2-A01-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 2024-01-01 humanObservation A01   7ee788aa-0853-11f0-a2bb-7c1e526f45b2-A01-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 2020-01-01 humanObservation A02   7ee788ab-0853-11f0-a2bb-7c1e526f45b2-A02-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 2021-01-01 humanObservation A02   7ee788ac-0853-11f0-a2bb-7c1e526f45b2-A02-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 2022-01-01 humanObservation A02   7ee788b4-0853-11f0-a2bb-7c1e526f45b2-A02-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 2023-01-01 humanObservation A02   7ee788b5-0853-11f0-a2bb-7c1e526f45b2-A02-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 2024-01-01 humanObservation A02   7ee788be-0853-11f0-a2bb-7c1e526f45b2-A02-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> 2020-01-01 humanObservation A03   7ee788bf-0853-11f0-a2bb-7c1e526f45b2-A03-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> 2021-01-01 humanObservation A03   7ee788c8-0853-11f0-a2bb-7c1e526f45b2-A03-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> 2022-01-01 humanObservation A03   7ee788c9-0853-11f0-a2bb-7c1e526f45b2-A03-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span> 2023-01-01 humanObservation A03   7ee788d2-0853-11f0-a2bb-7c1e526f45b2-A03-2…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">15</span> 2024-01-01 humanObservation A03   7ee788d3-0853-11f0-a2bb-7c1e526f45b2-A03-2…</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add composite ID using a sequential number, site name and eventDate</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="set_occurrences.html">set_occurrences</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    occurrenceID <span class="op">=</span> <span class="fu">composite_id</span><span class="op">(</span><span class="fu">sequential_id</span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                <span class="va">site</span>,</span></span>
<span class="r-in"><span>                                <span class="va">eventDate</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ⠙ Checking 2 columns: <span style="color: #00BB00;">basisOfRecord</span> and <span style="color: #00BB00;">occurrenceID</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking 2 columns: <span style="color: #00BB00;">basisOfRecord</span> and <span style="color: #00BB00;">occurrenceID</span> <span style="color: #B2B2B2;">[618ms]</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 15 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    eventDate  basisOfRecord    site  occurrenceID      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 2020-01-01 humanObservation A01   001-A01-2020-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 2021-01-01 humanObservation A01   002-A01-2021-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 2022-01-01 humanObservation A01   003-A01-2022-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 2023-01-01 humanObservation A01   004-A01-2023-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 2024-01-01 humanObservation A01   005-A01-2024-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 2020-01-01 humanObservation A02   006-A02-2020-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 2021-01-01 humanObservation A02   007-A02-2021-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 2022-01-01 humanObservation A02   008-A02-2022-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 2023-01-01 humanObservation A02   009-A02-2023-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 2024-01-01 humanObservation A02   010-A02-2024-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> 2020-01-01 humanObservation A03   011-A03-2020-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> 2021-01-01 humanObservation A03   012-A03-2021-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> 2022-01-01 humanObservation A03   013-A03-2022-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span> 2023-01-01 humanObservation A03   014-A03-2023-01-01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">15</span> 2024-01-01 humanObservation A03   015-A03-2024-01-01</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dax Kellie, Shandiya Balasubramanium, Martin Westgate.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

