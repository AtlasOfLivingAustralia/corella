<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Set, create or modify columns with date and time information — set_datetime • corella</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Set, create or modify columns with date and time information — set_datetime"><meta name="description" content="This function helps format standard date/time columns in a tibble using
Darwin Core Standard. Users should make use of the
lubridate package to
format their dates so corella can read them correctly.
In practice this is no different from using mutate(), but gives some
informative errors, and serves as a useful lookup for how spatial fields are
represented in the Darwin Core Standard."><meta property="og:description" content="This function helps format standard date/time columns in a tibble using
Darwin Core Standard. Users should make use of the
lubridate package to
format their dates so corella can read them correctly.
In practice this is no different from using mutate(), but gives some
informative errors, and serves as a useful lookup for how spatial fields are
represented in the Darwin Core Standard."><meta property="og:image" content="https://corella.ala.org.au/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">corella</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/quick_start_guide.html">Quick start guide</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/checking-your-dataset.html">Checking your dataset</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/AtlasOfLivingAustralia/corella/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Set, create or modify columns with date and time information</h1>
      <small class="dont-index">Source: <a href="https://github.com/AtlasOfLivingAustralia/corella/blob/main/R/set_datetime.R" class="external-link"><code>R/set_datetime.R</code></a></small>
      <div class="d-none name"><code>set_datetime.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function helps format standard date/time columns in a <code>tibble</code> using
Darwin Core Standard. Users should make use of the
<a href="https://lubridate.tidyverse.org/" class="external-link">lubridate package</a> to
format their dates so corella can read them correctly.</p>
<p>In practice this is no different from using <code>mutate()</code>, but gives some
informative errors, and serves as a useful lookup for how spatial fields are
represented in the Darwin Core Standard.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_datetime</span><span class="op">(</span></span>
<span>  <span class="va">.df</span>,</span>
<span>  eventDate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  month <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  day <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  eventTime <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .keep <span class="op">=</span> <span class="st">"unused"</span>,</span>
<span>  .messages <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--df">.df<a class="anchor" aria-label="anchor" href="#arg--df"></a></dt>
<dd><p>A <code>data.frame</code> or <code>tibble</code> that the column should be appended to.</p></dd>


<dt id="arg-eventdate">eventDate<a class="anchor" aria-label="anchor" href="#arg-eventdate"></a></dt>
<dd><p>The date or date + time that the observation/event occurred.</p></dd>


<dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>The year of the observation/event.</p></dd>


<dt id="arg-month">month<a class="anchor" aria-label="anchor" href="#arg-month"></a></dt>
<dd><p>The month of the observation/event.</p></dd>


<dt id="arg-day">day<a class="anchor" aria-label="anchor" href="#arg-day"></a></dt>
<dd><p>The day of the observation/event.</p></dd>


<dt id="arg-eventtime">eventTime<a class="anchor" aria-label="anchor" href="#arg-eventtime"></a></dt>
<dd><p>The time of the event. Use this term for Event data.
Date + time information for observations is accepted in <code>eventDate</code>.</p></dd>


<dt id="arg--keep">.keep<a class="anchor" aria-label="anchor" href="#arg--keep"></a></dt>
<dd><p>Control which columns from .data are retained in the output.
Note that unlike <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code>, which defaults to <code>"all"</code> this defaults to
<code>"unused"</code>; i.e. only keeps Darwin Core fields, and not those fields used to
generate them.</p></dd>


<dt id="arg--messages">.messages<a class="anchor" aria-label="anchor" href="#arg--messages"></a></dt>
<dd><p>(logical) Should informative messages be shown? Defaults to
<code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>tibble</code> with the requested columns added/reformatted.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Example values are:</p><ul><li><p><code>eventDate</code> should be class <code>Date</code> or <code>POSITct</code>. We suggest using the
lubridate package to define define your date format using functions like
<code>ymd()</code>, <code>mdy</code>, <code>dmy()</code>, or if including date + time, <code>ymd_hms()</code>,
<code>ymd_hm()</code>, or <code>ymd_h()</code>.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Crinia Signifera"</span>, <span class="st">"Crinia Signifera"</span>, <span class="st">"Litoria peronii"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">35.27</span>, <span class="op">-</span><span class="fl">35.24</span>, <span class="op">-</span><span class="fl">35.83</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">149.33</span>, <span class="fl">149.34</span>, <span class="fl">149.34</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2010-10-14"</span>, <span class="st">"2010-10-14"</span>, <span class="st">"2010-10-14"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"10:08:12"</span>, <span class="st">"13:01:45"</span>, <span class="st">"14:02:33"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use the lubridate package to format date + time information</span></span></span>
<span class="r-in"><span><span class="co"># eventDate accepts date + time</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">set_datetime</span><span class="op">(</span></span></span>
<span class="r-in"><span>    eventDate <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd_hms.html" class="external-link">ymd_hms</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">time</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ⠙ Checking 1 column: <span style="color: #00BB00;">eventDate</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Checking 1 column: <span style="color: #00BB00;">eventDate</span> <span style="color: #B2B2B2;">[314ms]</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name             latitude longitude eventDate          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Crinia Signifera    -<span style="color: #BB0000;">35.3</span>      149. 2010-10-14 <span style="color: #949494;">10:08:12</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Crinia Signifera    -<span style="color: #BB0000;">35.2</span>      149. 2010-10-14 <span style="color: #949494;">13:01:45</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> Litoria peronii     -<span style="color: #BB0000;">35.8</span>      149. 2010-10-14 <span style="color: #949494;">14:02:33</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dax Kellie, Shandiya Balasubramanium, Martin Westgate.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

